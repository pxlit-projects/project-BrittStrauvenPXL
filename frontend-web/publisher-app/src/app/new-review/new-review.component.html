<div class="container mx-auto mt-10 max-w-lg bg-gradient-to-r from-gray-100 to-gray-50 shadow-xl rounded-lg p-8">
    <h2 class="text-3xl font-semibold text-gray-800 mb-6 text-center">Submit a Review</h2>

    <!-- Template-Driven Form -->
    <form #reviewForm="ngForm" (ngSubmit)="onSubmit(reviewForm)" class="space-y-6">
        
        <!-- Approval Dropdown -->
        <div>
            <label for="approved" class="block text-lg font-medium text-gray-700 mb-2">Approval Status</label>
            <select 
                id="approved"
                name="approved"
                [(ngModel)]="review.approved"
                required
                (ngModelChange)="onApprovalChange($event)"
                class="w-full border border-gray-300 rounded-lg shadow-sm px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                <option value="" disabled>Select an option...</option>
                <option value="approve">Approve</option>
                <option value="reject">Reject</option>
            </select>
        </div>

        <!-- Rejection Reason (Only if "Reject" is selected) -->
        @if (review.approved === 'reject') {
            <div>
                <label for="rejectionReason" class="block text-lg font-medium text-gray-700 mb-2">Rejection Reason</label>
                <textarea
                    id="rejectionReason"
                    name="rejectionReason"
                    [(ngModel)]="review.rejectionReason"
                    required
                    rows="4"
                    placeholder="Provide a reason for rejection..."
                    class="w-full border border-gray-300 rounded-lg shadow-sm px-4 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-red-500"></textarea>
            </div>
        }

        <!-- Buttons -->
        <div class="flex space-x-4">
            <button
                type="submit"
                [disabled]="reviewForm.invalid"
                class="flex-1 bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-6 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300">
                Submit Review
            </button>
            <button
                type="button"
                (click)="router.navigate(['/post-detail', postId])"
                class="flex-1 bg-gray-500 hover:bg-gray-600 text-white font-semibold py-3 px-6 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition duration-300">
                Cancel
            </button>
        </div>

    </form>
</div>
